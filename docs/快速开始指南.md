# 快速开始指南

## 🎯 概述

这是一个完整的 Electron 桌面应用开发模板，包含了现代化的开发工具链、完善的测试框架和最佳实践。

## 📋 环境要求

### 必需环境
- **Node.js**: >= 18.0.0
- **npm**: >= 8.0.0 或 **yarn**: >= 1.22.0
- **Git**: 最新版本

### 推荐环境
- **VS Code**: 推荐的代码编辑器
- **Chrome**: 用于调试渲染进程

## 🚀 快速开始

### 1. 获取模板

#### 方式一：使用 Git 克隆
```bash
git clone https://github.com/your-username/electron-desktop-template.git my-app
cd my-app
```

#### 方式二：下载 ZIP
1. 访问 [GitHub 仓库](https://github.com/your-username/electron-desktop-template)
2. 点击 "Code" → "Download ZIP"
3. 解压到项目目录

### 2. 初始化项目

```bash
# 运行初始化脚本
node scripts/init-project.js

# 或者手动配置
cp .env.template .env
```

### 3. 安装依赖

```bash
npm install
```

### 4. 启动开发环境

```bash
npm run dev
```

应用将在几秒钟内启动，您将看到一个示例窗口。

## 🔧 项目配置

### 基本配置

编辑 `package.json` 中的基本信息：

```json
{
  "name": "your-app-name",
  "version": "1.0.0",
  "description": "Your app description",
  "author": "Your Name <your.email@example.com>"
}
```

### 应用配置

编辑 `.env` 文件：

```bash
# 应用基本信息
VITE_APP_TITLE=Your App Title
VITE_APP_VERSION=1.0.0
VITE_APP_DESCRIPTION=Your app description

# 开发配置
VITE_DEV_SERVER_PORT=5173
VITE_DEBUG_ENABLED=true
```

### 窗口配置

编辑 `src/main/config/window.ts`：

```typescript
export const windowConfig = {
  width: 1200,
  height: 800,
  minWidth: 800,
  minHeight: 600,
  title: 'Your App Title',
  resizable: true,
  maximizable: true,
  minimizable: true
}
```

## 📁 项目结构详解

```
your-app/
├── src/                          # 源代码
│   ├── main/                     # 主进程
│   │   ├── index.ts             # 应用入口
│   │   ├── config/              # 配置文件
│   │   │   ├── app.ts           # 应用配置
│   │   │   ├── window.ts        # 窗口配置
│   │   │   └── env.ts           # 环境配置
│   │   ├── services/            # 业务服务
│   │   └── utils/               # 工具函数
│   ├── preload/                 # 预加载脚本
│   │   └── index.ts             # 安全的 API 暴露
│   ├── renderer/                # 渲染进程 (Vue 应用)
│   │   ├── main.ts              # Vue 应用入口
│   │   ├── App.vue              # 根组件
│   │   ├── components/          # 组件
│   │   ├── views/               # 页面
│   │   ├── stores/              # 状态管理 (Pinia)
│   │   ├── router/              # 路由配置
│   │   └── utils/               # 渲染进程工具
│   └── types/                   # TypeScript 类型定义
├── tests/                       # 测试文件
│   ├── unit/                    # 单元测试
│   ├── integration/             # 集成测试
│   └── e2e/                     # E2E 测试
├── docs/                        # 文档
├── build/                       # 构建资源 (图标等)
├── configs/                     # 配置文件
└── scripts/                     # 构建脚本
```

## 🛠️ 开发工作流

### 开发模式

```bash
# 启动开发环境 (推荐)
npm run dev

# 或者分别启动
npm run dev:vite      # 启动 Vite 开发服务器
npm run dev:electron  # 启动 Electron 应用
```

### 代码检查

```bash
# ESLint 检查
npm run lint

# Prettier 格式化
npm run format

# TypeScript 类型检查
npm run type-check
```

### 测试

```bash
# 运行所有测试
npm test

# 单元测试
npm run test:unit

# 集成测试
npm run test:integration

# E2E 测试
npm run test:e2e

# 测试覆盖率
npm run test:coverage
```

## 📦 构建和打包

### 开发构建

```bash
npm run build:dev
```

### 生产构建

```bash
npm run build
```

### 平台特定构建

```bash
# Windows
npm run build:win

# macOS
npm run build:mac

# Linux
npm run build:linux

# 所有平台
npm run build:all
```

## 🎨 自定义开发

### 添加新页面

1. 在 `src/renderer/views/` 创建新的 Vue 组件
2. 在 `src/renderer/router/index.ts` 添加路由
3. 在导航中添加链接

### 添加新的主进程功能

1. 在 `src/main/services/` 创建服务文件
2. 在 `src/preload/index.ts` 暴露安全的 API
3. 在渲染进程中调用 API

### 添加新的测试

1. 单元测试：在 `tests/unit/` 创建 `.test.ts` 文件
2. E2E 测试：在 `tests/e2e/` 创建 `.test.ts` 文件
3. 运行测试验证功能

## 🔍 调试

### 主进程调试

```bash
# 启动调试模式
npm run dev:electron

# 在 VS Code 中附加调试器
# 端口: 9229
```

### 渲染进程调试

1. 启动开发环境：`npm run dev`
2. 在应用中按 `F12` 打开开发者工具
3. 或在 Chrome 中访问：`http://localhost:5173`

### 测试调试

```bash
# Jest 测试调试
npm run test:watch

# Playwright 测试调试
npm run test:e2e:debug
```

## 📚 进阶配置

### 自定义构建配置

编辑 `electron.vite.config.ts` 和 `vite.config.ts`

### 自定义打包配置

编辑 `package.json` 中的 `build` 字段

### 添加新的依赖

```bash
# 生产依赖
npm install package-name

# 开发依赖
npm install -D package-name
```

## ❓ 常见问题

### Q: 应用启动失败？
A: 检查 Node.js 版本，确保 >= 18.0.0

### Q: 构建失败？
A: 运行 `npm run clean` 清理缓存，然后重新构建

### Q: 测试失败？
A: 确保应用已构建：`npm run build:main`

### Q: 如何添加图标？
A: 将图标文件放在 `build/` 目录下，支持 `.ico`、`.icns`、`.png`

## 🆘 获取帮助

- 📖 查看 [详细文档](./README.md)
- 🐛 提交 [Issue](https://github.com/your-username/electron-desktop-template/issues)
- 💬 参与 [讨论](https://github.com/your-username/electron-desktop-template/discussions)

---

**祝您开发愉快！🎉**
